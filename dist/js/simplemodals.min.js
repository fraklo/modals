!function(){"use strict";window.SimpleModal=function(e){function a(e,a){var s;for(s in a)a.hasOwnProperty(s)&&(e[s]=a[s]);return e}function s(e,a){var s=a.getElementsByClassName(m.dataClass);"object"==typeof e&&e.then(function(e){"object"!=typeof e&&(e=JSON.parse(e)),s[0].innerHTML=e[m.dataKey],a.className=a.className.replace(m.loadingClass,"")+" "+m.activeClass,g=a},function(e){s[0].innerHTML=e.status+" "+e.statusText,a.className=a.className.replace(m.loadingClass,"")+" "+m.activeClass,g=a})}function t(){var e,a,s;for(e=document.getElementsByClassName(m.closeTrigger),s=document.getElementsByClassName(m.modalTrigger),a=0;a<s.length;a++)s[a].addEventListener("click",function(){l(this.getAttribute("data-"+m.dataTarget))});for(a=0;a<e.length;a++)e[a].addEventListener("click",function(){n()});c()}function n(){var e;g&&(e=g.className.replace(m.loadingClass,"").replace(m.activeClass,""),g.className=e,g=!1),o()}function l(e,a){var t=document.getElementsByClassName(e);i()?g&&d(g,!1):r(),t.length>0&&(t=t[0],a?(t.className=t.className+" "+m.loadingClass,s(a,t)):(d(t,!0),g=t))}function o(){var e=document.getElementsByClassName(m.shadeTrigger);e.length>0&&d(e[0])}function c(){var e=document.getElementsByClassName(m.shadeTrigger);0===e.length&&(e=document.createElement("div"),e.className=m.shadeTrigger+" "+m.shadeClass,document.body.appendChild(e),e.addEventListener("click",function(){n()}))}function i(){var e=!1,a=document.getElementsByClassName(m.shadeTrigger);return a.length>0&&a[0].className.indexOf(m.activeClass)>-1&&(e=!0),e}function r(){var e=document.getElementsByClassName(m.shadeTrigger);e.length>0&&d(e[0],!0)}function d(e,a){var s;s=a?e.className+" "+m.activeClass:e.className.replace(m.activeClass,""),e.className=s}var m,g=!1,u={activeClass:"active",closeTrigger:"js_modal_close",dataClass:"js_modal_data",dataKey:"html",dataTarget:"target",loadingClass:"loading",modalTrigger:"js_modal_open",shadeClass:"modal-shade",shadeTrigger:"js_modal_shade"};m=e&&"object"==typeof e?a(u,e):u,this.modal__close=function(){n()},this.modal__open=function(e,a){l(e,a)},t(m)},SimpleModal.prototype.close=function(){this.modal__close()},SimpleModal.prototype.open=function(e,a){e=e.toString(),this.modal__open(e,a)}}();
